<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YASIF STORE - Promo Kopi Hemat</title>
    <style>
        /* GAYA TAMPILAN (CSS) */
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background-color: #f8f9fa; color: #333; }
        
        header { background: #2c3e50; color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        header h1 { margin: 0; font-size: 20px; font-weight: 700; }
        
        .container { max-width: 600px; margin: 0 auto; padding: 20px; padding-bottom: 80px; }

        /* Pilihan Brand */
        .brand-choice { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .brand-card { background: white; border-radius: 12px; padding: 20px; text-align: center; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: 0.2s; border: 2px solid transparent; }
        .brand-card:hover { transform: translateY(-5px); border-color: #2c3e50; }
        .brand-logo { width: 80px; height: 80px; background: #ddd; border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #666; font-weight: bold; }
        .brand-name { font-weight: bold; display: block; }

        /* List Menu */
        #menu-section { display: none; }
        .menu-list { display: grid; gap: 15px; margin-top: 15px; }
        .menu-item { background: white; padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        
        .item-info h3 { margin: 0 0 5px; font-size: 16px; }
        
        /* GAYA HARGA BARU (CORET & PROMO) */
        .price-container { display: flex; flex-direction: column; align-items: flex-start; }
        .price-original { text-decoration: line-through; color: #999; font-size: 12px; margin-bottom: 2px; }
        .price-promo { color: #e74c3c; font-weight: bold; font-size: 16px; }

        .btn-add { background: #2c3e50; color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 12px; min-width: 80px; }
        .btn-add:active { transform: scale(0.95); }

        .btn-back { background: transparent; border: 1px solid #ccc; padding: 5px 10px; border-radius: 5px; cursor: pointer; margin-bottom: 10px; }

        /* Floating Cart */
        .floating-cart { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 580px; background: #25D366; color: white; padding: 15px; border-radius: 50px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4); cursor: pointer; display: none; z-index: 200; }
        .cart-info { font-weight: bold; padding-left: 10px; }

        /* Modal Checkout */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 300; align-items: flex-end; justify-content: center; }
        .modal-content { background: white; width: 100%; max-width: 600px; padding: 25px; border-radius: 20px 20px 0 0; animation: slideUp 0.3s; }
        @keyframes slideUp { from {transform: translateY(100%);} to {transform: translateY(0);} }
        
        .cart-item-list { max-height: 200px; overflow-y: auto; margin-bottom: 15px; border-bottom: 1px solid #eee; }
        .cart-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-size: 14px; font-weight: bold; }
        .form-group input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .btn-checkout { width: 100%; background: #25D366; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; font-size: 16px; cursor: pointer; }
        .btn-close { background: #ddd; color: #333; border: none; padding: 10px; width: 100%; border-radius: 10px; margin-top: 10px; cursor: pointer; }

    </style>
</head>
<body>

    <header>
        <h1>YASIF STORE</h1>
    </header>

    <div class="container">
        
        <div id="home-section">
            <h3 style="text-align:center;">Pilih Kopi Favoritmu:</h3>
            <div class="brand-choice">
                <div class="brand-card" onclick="openMenu('kenangan')">
                    <div class="brand-logo" style="background:#e8cfc1; color:#333;">KOPI<br>KENANGAN</div>
                    <span class="brand-name">Kopi Kenangan</span>
                </div>
                <div class="brand-card" onclick="openMenu('tomoro')">
                    <div class="brand-logo" style="background:#ff6b6b; color:white;">TOMORO<br>COFFEE</div>
                    <span class="brand-name">Tomoro Coffee</span>
                </div>
            </div>
        </div>

        <div id="menu-section">
            <button class="btn-back" onclick="goHome()">‚Üê Kembali</button>
            <h2 id="brand-title">Menu</h2>
            <div class="menu-list" id="menu-container">
                </div>
        </div>

    </div>

    <div class="floating-cart" id="floating-cart" onclick="openModal()">
        <span class="cart-info" id="cart-summary">0 Item | Rp 0</span>
        <span style="padding-right:10px;">Lihat Keranjang ></span>
    </div>

    <div class="modal" id="checkout-modal">
        <div class="modal-content">
            <h3>Detail Pesanan</h3>
            <div class="cart-item-list" id="cart-details">
                </div>
            
            <div style="display:flex; justify-content:space-between; font-weight:bold; margin-bottom:15px; font-size:18px;">
                <span>Total:</span>
                <span id="cart-total-price">Rp 0</span>
            </div>

            <div class="form-group">
                <label>Lokasi Ambil (Nama Cabang/Store):</label>
                <input type="text" id="store-location" placeholder="Contoh: Cabang Grand Indonesia">
            </div>

            <button class="btn-checkout" onclick="sendToWA()">Pesan via WhatsApp</button>
            <button class="btn-close" onclick="closeModal()">Tutup / Tambah Lagi</button>
        </div>
    </div>

    <script>
        /* === BAGIAN DATA PRODUK === 
           Paste hasil dari EXCEL di dalam kurung siku [ ... ] di bawah ini
        */
        const databaseMenu = {
            'kenangan': [
                { name: 'Kopi Kenangan Mantan', price: 18000, original: 24000 },
                { name: 'Dua Shot Iced Shaken', price: 22000, original: 28000 },
                { name: 'Latte', price: 24000, original: 30000 },
            ],
            'tomoro': [
                { name: 'Tomoro Aren Latte', price: 18000, original: 25000 },
                { name: 'Coconut Aren Latte', price: 23000, original: 29000 },
            ]
        };

        // === NOMOR WA KAMU ===
        const NOMOR_WA = "6287836345807"; 

        /* === LOGIKA PROGRAM === */
        let cart = [];
        let currentBrand = '';

        function openMenu(brand) {
            currentBrand = brand;
            document.getElementById('home-section').style.display = 'none';
            document.getElementById('menu-section').style.display = 'block';
            
            const title = brand === 'kenangan' ? 'Kopi Kenangan' : 'Tomoro Coffee';
            document.getElementById('brand-title').innerText = "Promo " + title;

            const container = document.getElementById('menu-container');
            container.innerHTML = ''; 
            
            databaseMenu[brand].forEach((item, index) => {
                // Tampilan Harga Coret & Promo
                container.innerHTML += `
                    <div class="menu-item">
                        <div class="item-info">
                            <h3>${item.name}</h3>
                            <div class="price-container">
                                <span class="price-original">Rp ${item.original.toLocaleString('id-ID')}</span>
                                <span class="price-promo">Rp ${item.price.toLocaleString('id-ID')}</span>
                            </div>
                        </div>
                        <button class="btn-add" onclick="addToCart('${brand}', ${index})">AMBIL PROMO</button>
                    </div>
                `;
            });
        }

        function goHome() {
            document.getElementById('home-section').style.display = 'block';
            document.getElementById('menu-section').style.display = 'none';
        }

        function addToCart(brand, index) {
            const item = databaseMenu[brand][index];
            cart.push(item);
            updateCartUI();
        }

        function updateCartUI() {
            const total = cart.reduce((sum, item) => sum + item.price, 0); // Total hitung dari harga promo
            document.getElementById('cart-summary').innerText = `${cart.length} Item | Rp ${total.toLocaleString('id-ID')}`;
            
            if(cart.length > 0) {
                document.getElementById('floating-cart').style.display = 'flex';
            }
        }

        function openModal() {
            const list = document.getElementById('cart-details');
            list.innerHTML = '';
            let total = 0;
            let totalHemat = 0;

            cart.forEach((item) => {
                total += item.price;
                totalHemat += (item.original - item.price); // Hitung hemat
                list.innerHTML += `
                    <div class="cart-row">
                        <span>${item.name}</span>
                        <span>Rp ${item.price.toLocaleString('id-ID')}</span>
                    </div>
                `;
            });

            document.getElementById('cart-total-price').innerText = "Rp " + total.toLocaleString('id-ID');
            document.getElementById('checkout-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('checkout-modal').style.display = 'none';
        }

        function sendToWA() {
            const location = document.getElementById('store-location').value;
            if(!location) {
                alert("Mohon isi lokasi cabang pengambilan dulu ya!");
                return;
            }

            let message = `Halo Yasif Store, saya mau klaim Promo Kopi:\n\n`;
            
            cart.forEach(item => {
                message += `- ${item.name} (Promo: Rp ${item.price.toLocaleString('id-ID')})\n`;
            });

            const total = cart.reduce((sum, item) => sum + item.price, 0);
            message += `\n*Total Bayar: Rp ${total.toLocaleString('id-ID')}*`;
            message += `\n\nLokasi Ambil: *${location}*`;
            message += `\n\nMohon diproses segera ya!`;

            const url = `https://wa.me/${NOMOR_WA}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }
    </script>
</body>
</html>
